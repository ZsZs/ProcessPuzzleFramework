<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Test page for State.js</title>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <script type="text/javascript"  src="../JsUnit/app/jsUnitCore.js"></script>
    <script type="text/javascript"  src="../CommonScripts/AssertUtil.js"></script>
    <script type="text/javascript"  src="../CommonScripts/UserException.js"></script>
    <script type="text/javascript"  src="../MooTools/mootools-core-1.3.js"></script>
    <script type="text/javascript"  src="State.js"></script>

  </head>

  <body>
    <h1>State.js test page</h1>

    <script type="text/javascript" >
      var STATE_NAME = "Initial State";
      var STATE_DESCRIPTION = "This is the initial state of the state machine.";
	  var initialState;

      function setUp() {
        initialState = new State( STATE_NAME, STATE_DESCRIPTION );
      }

      function tearDown() {
      }

      function testInitialization() {
        assertEquals( STATE_NAME, initialState.name );
        assertEquals( STATE_DESCRIPTION, initialState.description );
      }
      
      function testNameIsRequired() {
      	try{
      	  new State();
      		fail( "Exception was expected. Name parameter can't be null or empty." );
      	}catch( e ) {
      		assertTrue( "AssertionException is expected.", e instanceof IllegalArgumentException );
      	}
      }
      
      function testDescriptionIsOptional() {
      	var stateWithoutDescription = new State( STATE_NAME );
      	assertNaN( "Description is optional.", stateWithoutDescription );
      }

      //runs a test function during debugging
      function runTestFunction(){
	    setUp();
	    //testNewStateIsAddedToTheParentComposite();
		tearDown();
	  }

	  runTestFunction();
    </script>
  </body>
</html>
