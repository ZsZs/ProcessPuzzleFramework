<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>Test page for TreesWidget.js</title>
	<META http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<link href="TreeWidget.css" rel=stylesheet >
	<link type="text/css" rel="stylesheet" href="../JsUnit/app/css/jsUnitStyle.css">
	
	<script type="text/javascript" src="../JsUnit/app/jsUnitCore.js"></script>
	<script type="text/javascript" src="../MooTools/mootools-core-1.3.js"></script>

	<script type="text/javascript" src="../Sarissa/sarissa.js"></script>  
	<script type="text/javascript" src="../Sarissa/sarissa_ieemu_xpath.js"></script>
    
	<script type="text/javascript" src="../BrowserWidget/BrowserWidget.js"></script>
	<script type="text/javascript" src="../CommonScripts/AssertUtil.js"></script>
	<script type="text/javascript" src="../CommonScripts/Collection.js"></script>
	<script type="text/javascript" src="../CommonScripts/JavaCollection.js"></script>
	<script type="text/javascript" src="../CommonScripts/StringUtil.js"></script>
	<script type="text/javascript" src="../CommonScripts/StringBuffer.js"></script>
	<script type="text/javascript" src="../CommonScripts/inheritFrom.js"></script>
	<script type="text/javascript" src="../CommonScripts/UserException.js"></script>
    <script type="text/javascript" src="../CommonScripts/AssertUtil.js"></script>
    <script type="text/javascript" src="../CommonScripts/UserException.js"></script>
	<script type="text/javascript" src="../Internationalization/Locale.js"></script>
	<script type="text/javascript" src="../Internationalization/LocaleUtil.js"></script>
	<script type="text/javascript" src="../Internationalization/ResourceKey.js"></script>
	<script type="text/javascript" src="../Internationalization/ResourceCache.js"></script>
	<script type="text/javascript" src="../Internationalization/XMLBundleParser.js"></script>
	<script type="text/javascript" src="../Internationalization/XMLResourceBundle.js"></script>
	<script type="text/javascript" src="../FundamentalTypes/XmlResource.js"></script>
	<script type="text/javascript" src="../XMLforScript/xmlIO.js"></script>
	<script type="text/javascript" src="../XMLforScript/xmlEscape.js"></script>
	<script type="text/javascript" src="../XMLforScript/xmlsax.js"></script>
	<script type="text/javascript" src="../XMLforScript/preMadeSaxEventHandler.js"></script>
	<script type="text/javascript" src="CompositeTreeNode.js"></script>
	<script type="text/javascript" src="LeafTreeNode.js"></script>
	<script type="text/javascript" src="RootTreeNode.js"></script>
	<script type="text/javascript" src="TreeNode.js"></script>
	<script type="text/javascript" src="TreeNodeType.js"></script>
	<script type="text/javascript" src="TreeWidget.js"></script>
	
	<script language=javascript>
		window.addEvent('domready', function() {
			runTestFunction();
		});

		var LANGUAGE = "hu";
		var RESOURCE_PATH = "../Internalization/TestResources";
		var WIDGET_CONTAINER_ID = "treeView";
		var locale = new Locale( LANGUAGE );
		var resourceBundle;
		var treeWidget;
		var widgetContainerElement;

		function setUp() {
			resourceBundle = new XMLResourceBundle( RESOURCE_PATH );
			treeWidget = new TreeWidget( document, WIDGET_CONTAINER_ID, resourceBundle, locale );
		}

		function tearDown(){
			treeWidget.removeWidgetTree();
			treeWidget = null;
		}

		function testInitializaiton() {
			assertNotNull( "Widget created", treeWidget );
		}

		function testLoadWidget() {
			treeWidget.setDefinitionFileName( "TreeDefinition.xml" );
			treeWidget.loadWidget();
			assertNotNull( "Widget created", treeWidget );
		}

		function testShowWidget() {
			treeWidget.setDefinitionFileName( "TreeDefinition.xml" );
			treeWidget.loadWidget();
			treeWidget.showWidget();
			assertTrue( "Widget should be visiible.", tree.isVisible() );
		}

		//runs a test funcition during debugging
		function runTestFunction(){
			setUp();
			testInitializaiton();
			tearDown();
		}
	</script>
</head>

<body>
	<h1>TreeWidget.js test page</h1>
	<p>This page contains tests for TreeWidget.js javascript class.</p>

	<!-- ***************************************** -->
	<div id="treeView"></div>
	<!-- ***************************************** -->

	<div id="SimpleTreeView">
		<div class="trigger">
			<nobr>
				<IMG class="nodeimage" src="images/minus_no_root.gif">
				<IMG class="nodeimage" src="images/folder_open.gif">
				<span class="treetitle" id=branch1>Node1</SPAN>
			</NOBR>
		</DIV>
		<div class="trigger">
			<nobr>
				<IMG class="nodeimage" src="images/line.gif">
				<IMG class="nodeimage" height=0 src="images/t.gif" width="0"> 
				<IMG class="nodeimage" src="images/page16x16.gif">
				<span class="treetitle" id="branch1">Doc1</SPAN>
			</NOBR>
		</DIV>
		<div class=trigger>
			<IMG class=nodeimage src="images/line.gif">
			<IMG class=nodeimage src="images/t.gif">
			<IMG class=nodeimage src="images/page16x16.gif">
			<span class=treetitle id=branch1>Doc2</SPAN>
		</DIV>
		<div class=trigger>
			<IMG class=nodeimage src="images/line.gif">
			<IMG class=nodeimage src="images/plus.gif">
			<IMG class=nodeimage src="images/folder_open.gif">
			<span class=treetitle id=branch1>Node3</SPAN>
		</DIV>
		<div class=trigger>
			<IMG class=nodeimage src="images/line.gif">
			<IMG class=nodeimage src="images/line.gif">
			<IMG class=nodeimage src="images/lastnode.gif">
			<IMG class=nodeimage src="images/page16x16.gif">
			<span class=treetitle id=branch1>Doc5</SPAN>
		</DIV>
		<div class=trigger>
			<nobr>
				<IMG class=nodeimage src="images/line.gif">
				<IMG class=nodeimage src="images/minus_last.gif">
				<IMG class=nodeimage src="images/folder_open.gif">
				<span class=treetitle id=branch1>Node4</SPAN>
			</NOBR>
		</DIV>
		<div class=trigger>
			<nobr>
				<IMG class=nodeimage src="images/line.gif">
				<IMG class=nodeimage src="images/white.gif">
				<IMG class=nodeimage height=0 src="images/t.gif" width="0"> 
				<IMG class=nodeimage src="images/page16x16.gif">
				<span class=treetitle id=branch1>Doc3</SPAN>
			</NOBR>
		</DIV>
		<div class=trigger>
			<IMG class=nodeimage src="images/line.gif">
			<IMG class=nodeimage src="images/white.gif">
			<IMG class=nodeimage src="images/lastnode.gif">
			<IMG class=nodeimage src="images/page16x16.gif">
			<span class=treetitle id=branch1>Doc4</SPAN>
		</DIV>
		<div class=trigger>
			<nobr>
				<IMG class=nodeimage src="images/plus_last.gif">
				<IMG class=nodeimage src="images/folder_closed.gif">
				<span class=treetitle id=branch1>Node2</SPAN>
			</NOBR>
		</DIV>
	</DIV>
</body></html>