	<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/ArrayList.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/AssertUtil.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/BrowserEvent.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/CCallWrapper.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/CList.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/Collection.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/Configuration.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/CSimpleObservable.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/GenericBrowser.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/inheritFrom.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/HashMap.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/StringBuffer.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/StringUtil.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/UserException.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/UserException.js"></script>
	<script type="text/javascript" src="../../../JavaScript/CommonScripts/XmlResource.js"></script>
	<script type="text/javascript" src="../../../JavaScript/TabWidget/Tab.js"></script>
	<script type="text/javascript" src="../../../JavaScript/TabWidget/TabWidget.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/TabWidget/InvertedTabWidget.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/TabWidget/TabEvents.js"></script>
	<script type="text/javascript" src="../../../JavaScript/TreeWidget/TreeWidget.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/TreeWidget/TreeNode.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/Internalization/Locale.js"></script>
	<script type="text/javascript" src="../../../JavaScript/Internalization/LocaleUtil.js"></script>
	<script type="text/javascript" src="../../../JavaScript/Internalization/ResourceKey.js"></script>
	<script type="text/javascript" src="../../../JavaScript/Internalization/ResourceCache.js"></script>
	<script type="text/javascript" src="../../../JavaScript/Internalization/XMLBundleParser.js"></script>
	<script type="text/javascript" src="../../../JavaScript/Internalization/XMLResourceBundle.js"></script>
	<script type="text/javascript" src="../../../JavaScript/XMLforScript/xmlsax.js"></script>
	<script type="text/javascript" src="../../../JavaScript/XMLforScript/preMadeSaxEventHandler.js"></script>
	<script type="text/javascript" src="../../../JavaScript/DocumentManager/Document.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/DocumentManager/DocumentView.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/DocumentManager/BrowseView.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/DocumentManager/CustomFormView.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/DocumentManager/ListQueryView.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/DocumentManager/EditableHtmlView.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/DocumentManager/EditableTextView.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/DocumentManager/NativeView.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/DocumentManager/PropertyView.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/DocumentManager/PrintView.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/DocumentManager/DocumentEvents.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/DocumentManager/DocumentManager.js"></script>
	<script type="text/javascript" src="../../../JavaScript/MenuWidget/MenuItem.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/MenuWidget/SubMenuItem.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/MenuWidget/DualStateMenuItem.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/MenuWidget/CompositMenuItem.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/MenuWidget/MenuWidget.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/WebUiCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/CloseActiveDocumentCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/PrintActiveDocumentCommand.js"></script>	
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/OpenDocumentSelectedInListCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/SwitchToDocumentCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/CustomCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/TestCustomCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/MessageWallManageCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/ToDoListManageCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/ShowDocumentPropertiesCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/BackupDatabaseManageCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/RestoreDatabaseManageCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/UndoMaintenanceCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/UserManagementCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/OrganizationManagementCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/CreateNewDocumentCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/NewFolderCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/DeleteFolderCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/RenameFolderCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/MoveFolderCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/NewArtifactCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/CreateNewPlanCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/ModalWindow/ModalWindowBase.js"></script>
	<script type="text/javascript" src="../../../JavaScript/DataRetriever/DataRetriever.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/DataRetriever/InvalidXmlResponseException.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/DeleteArtifactCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/RenameArtifactCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUiCommands/MoveArtifactCommand.js"></script>
	<script type="text/javascript" src="../../../JavaScript/ArtifactTypeLoader/ArtifactTypeLoader.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUIController/ConfigureLogging.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUIController/WebUIController.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUIController/LoadUtility.js"></script>
	<script type="text/javascript" src="../../../JavaScript/WebUIController/WebUIInit.js"></script>
	<script type="text/javascript" src="../../../JavaScript/FolderManagerWidget/FolderManagerWidget.js"></script>
	<script type="text/javaScript" src="../../../JavaScript/PlanManagerWidget/PlanManagerWidget.js" ></script>
	<script type="text/javascript" src="../../../JavaScript/Log4JavaScript/log4javascript.js"></script>

	<script type="text/javascript">
		var appConfiguration;
		var webUIController;
		var browserFrameWidth;
		var menuFrameWidth;

		function manageFrameset(framsetId, rows, cols) {
			var tmp_frameset=document.getElementById(framsetId);
			if(rows != null) tmp_frameset.rows=rows;
			if(cols != null) tmp_frameset.cols=cols;
		}

		function init()	{
			browserFrameWidth=290;
			menuFrameWidth=212;

			docManSelector = top.DocuNavigatorFrame.docManSelector;
			docManViewSelector = top.DocuViewSelectorFrame.docManViewSelector;
			infoPanelSelector = top.InfoNavigatorFrame.infoPanelSelector;
			menuWidget = top.menuFrame.menuWidget;

			appConfiguration = new Configuration();
			appConfiguration.addPossibleLanguage("hu");
			appConfiguration.addPossibleLanguage("en");
			appConfiguration.setDefaultLocale(new Locale("hu"));
			appConfiguration.addProperty( PLAN_URI_PROPERTY_NAME, "./CommandControllerServlet?action=RetrieveArtifactData&artifactId=" );
			appConfiguration.addProperty( PLAN_TRANSFORMATION_URI_PROPERTY_NAME, "JavaScript/PlanManagerWidget/TransformPlanDataToTree.xsl" );

			webUIController = new WebUiController( "../../../../" );
			webUIController.loadArtifactTypeLoader(new ArtifactTypeLoader());
			webUIController.loadArtifactTypes( "BusinessDefinition/GenericBusinessDefinition.xml" );

			webUIController.setApplicationConfiguration( appConfiguration );
			webUIController.loadMenuManager( menuWidget );
			webUIController.loadDocumentManager( docManSelector, docManViewSelector, "ContentFrame", "Content.htm" );
			webUIController.getDocumentManager().setCompositeItemNameInMenu( "DocumentListInMenu" );
			webUIController.loadInfoManager( infoPanelSelector, "InfoFrame", "Commons/InfoNavigator/Info.jsp" );

			var browserLanguage = GenericBrowser.getLanguage();
			var locale;
			if(appConfiguration.getPossibleLanguages().exists(browserLanguage))
				locale = new Locale(browserLanguage);
			else
			{	//megbeszeles utan ide johet a pl "en-"el kezdodo nyelveknel az "en" hasznalatanak a beallitasa
				locale = appConfiguration.getDefaultLocale();
			}
				
			appConfiguration.setLocale(locale);
			appConfiguration.setBundlePath( "Configuration/WebUiInternalization" );
			webUIController.setLanguage(locale.getLanguage());

			//treeTabWidget
			top.browserFrame.setUpTreeTabWidget();

			webUIController.setLeftTreesTabWidget(top.browserFrame.leftTreesTabWidget);
			webUIController.setLeftTreeWidget(top.browserFrame.leftTreeWidget);

			//login
			top.menuFrame.setUpAuthentication();

			WebUIInit();
			top.DocuNavigatorScrollFrame.tabWidget=top.DocuNavigatorFrame.docManSelector;
			top.DocuViewSelectorScrollFrame.tabWidget=top.DocuViewSelectorFrame.docManViewSelector;
		}
	</script>
	
	<script type="text/javascript">
		if(navigator.appName != "Microsoft Internet Explorer")
			window.location.href = "../../../../BrowserMismatch.htm";
	</script>
	